/* waku/src/lib/styles/waku.css */

/* Import Tailwind v4 layers */
@import 'tailwindcss/theme.css' layer(theme);
@import 'tailwindcss/preflight.css' layer(base);
@import 'tailwindcss/utilities.css' layer(utilities);

/* Dark mode variant definition for Tailwind */
@variant dark (&:is(.dark *));

:root {
	/* ----------------------------------------- */
	/* WAKU COLOR & THEME SYSTEM                 */
	/* ----------------------------------------- */

	/* 1. ACCENT COLOR (Project-specific) */
	--waku-accent: oklch(0.6 0.2 250); /* Default: Blue. Override this in your project. */

	/* Generate full accent color scale from the base accent color */
	--accent-50: oklch(from var(--waku-accent) calc(l + 0.37) calc(c * 0.3) h);
	--accent-100: oklch(from var(--waku-accent) calc(l + 0.32) calc(c * 0.4) h);
	--accent-200: oklch(from var(--waku-accent) calc(l + 0.24) calc(c * 0.6) h);
	--accent-300: oklch(from var(--waku-accent) calc(l + 0.16) calc(c * 0.8) h);
	--accent-400: oklch(from var(--waku-accent) calc(l + 0.08) calc(c * 0.9) h);
	--accent-500: var(--waku-accent); /* Base accent color */
	--accent-600: oklch(from var(--waku-accent) calc(l - 0.08) calc(c * 1.05) h);
	--accent-700: oklch(from var(--waku-accent) calc(l - 0.16) calc(c * 1.1) h);
	--accent-800: oklch(from var(--waku-accent) calc(l - 0.24) calc(c * 1.1) h);
	--accent-900: oklch(from var(--waku-accent) calc(l - 0.32) calc(c * 1.05) h);
	--accent-950: oklch(from var(--waku-accent) calc(l - 0.37) calc(c * 0.9) h);

	/* 2. NEUTRAL COLOR PALETTE (Light Mode) */
	--neutral-50: oklch(0.98 0.005 250);
	--neutral-100: oklch(0.95 0.005 250);
	--neutral-200: oklch(0.9 0.005 250);
	--neutral-300: oklch(0.83 0.005 250);
	--neutral-400: oklch(0.68 0.005 250);
	--neutral-500: oklch(0.55 0.005 250);
	--neutral-600: oklch(0.45 0.005 250);
	--neutral-700: oklch(0.38 0.005 250);
	--neutral-800: oklch(0.27 0.005 250);
	--neutral-900: oklch(0.19 0.005 250);
	--neutral-950: oklch(0.13 0.005 250);

	/* 3. SEMANTIC COLORS (Feedback) */
	--color-success: oklch(0.65 0.18 145);
	--color-warning: oklch(0.75 0.15 85);
	--color-danger: oklch(0.6 0.22 25);
	--color-info: oklch(0.65 0.18 240);

	/* 4. LAYER & ELEVATION SYSTEM (Light Mode) */
	--waku-bg-base: var(--neutral-50); /* Page background */
	--waku-fg-base: var(--neutral-900); /* Main text */
	--waku-fg-muted: var(--neutral-600); /* Muted text */
	--waku-fg-disabled: var(--neutral-400); /* Disabled text */
	--waku-border: var(--neutral-200); /* Standard borders */

	/* Layer 1: Cards, etc. */
	--waku-bg-layer-1: oklch(1 0 0 / 0.75); /* Semi-transparent white */
	--waku-fg-layer-1: var(--waku-fg-base);

	/* Layer 2: Modals, Popups */
	--waku-bg-layer-2: oklch(1 0 0 / 0.85);
	--waku-fg-layer-2: var(--waku-fg-base);

	/* Glassmorphism Effect */
	--waku-glass-blur: 12px;

	/* 5. DESIGN TOKENS */
	--radius-sm: 0.25rem;
	--radius-md: 0.375rem;
	--radius-lg: 0.5rem;
	--radius-xl: 0.75rem;

	--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
	--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
	--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
	--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

	--transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
	--transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
	--transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);

	--z-dropdown: 1000;
	--z-modal: 1050;
	--z-popover: 1060;
	--z-tooltip: 1070;
	--z-toast: 1080;
}

/* ----------------------------------------- */
/* DARK MODE OVERRIDES                       */
/* ----------------------------------------- */
html.dark {
	/* 1. ACCENT COLOR (Remains the same) */

	/* 2. NEUTRAL COLOR PALETTE (Dark Mode) */
	--neutral-50: oklch(0.25 0.005 250);
	--neutral-100: oklch(0.28 0.005 250);
	--neutral-200: oklch(0.32 0.005 250);
	--neutral-300: oklch(0.38 0.005 250);
	--neutral-400: oklch(0.48 0.005 250);
	--neutral-500: oklch(0.58 0.005 250);
	--neutral-600: oklch(0.68 0.005 250);
	--neutral-700: oklch(0.75 0.005 250);
	--neutral-800: oklch(0.83 0.005 250);
	--neutral-900: oklch(0.9 0.005 250);
	--neutral-950: oklch(0.95 0.005 250);

	/* 3. SEMANTIC COLORS */

	/* 4. LAYER & ELEVATION SYSTEM (Dark Mode) */
	--waku-bg-base: oklch(0.15 0.005 250); /* Dark page background */
	--waku-fg-base: var(--neutral-900); /* Light text */
	--waku-fg-muted: var(--neutral-600); /* Muted light text */
	--waku-fg-disabled: var(--neutral-400); /* Disabled light text */
	--waku-border: var(--neutral-300); /* Light borders */

	/* Layer 1: Cards, etc. */
	--waku-bg-layer-1: oklch(0.25 0.01 250 / 0.5); /* Semi-transparent dark gray */
	--waku-fg-layer-1: var(--waku-fg-base);

	/* Layer 2: Modals, Popups */
	--waku-bg-layer-2: oklch(0.25 0.01 250 / 0.7);
	--waku-fg-layer-2: var(--waku-fg-base);

	/* 5. DESIGN TOKENS (Shadows for dark mode) */
	--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.5);
	--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.5), 0 2px 4px -2px rgb(0 0 0 / 0.5);
	--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5), 0 4px 6px -4px rgb(0 0 0 / 0.5);
	--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.5), 0 8px 10px -6px rgb(0 0 0 / 0.5);
}

@theme {
	/* Expose colors to Tailwind's color system */

	/* Accent Colors */
	--color-accent-50: var(--accent-50);
	--color-accent-100: var(--accent-100);
	--color-accent-200: var(--accent-200);
	--color-accent-300: var(--accent-300);
	--color-accent-400: var(--accent-400);
	--color-accent-500: var(--accent-500);
	--color-accent-600: var(--accent-600);
	--color-accent-700: var(--accent-700);
	--color-accent-800: var(--accent-800);
	--color-accent-900: var(--accent-900);
	--color-accent-950: var(--accent-950);

	/* Neutral Colors */
	--color-neutral-50: var(--neutral-50);
	--color-neutral-100: var(--neutral-100);
	--color-neutral-200: var(--neutral-200);
	--color-neutral-300: var(--neutral-300);
	--color-neutral-400: var(--neutral-400);
	--color-neutral-500: var(--neutral-500);
	--color-neutral-600: var(--neutral-600);
	--color-neutral-700: var(--neutral-700);
	--color-neutral-800: var(--neutral-800);
	--color-neutral-900: var(--neutral-900);
	--color-neutral-950: var(--neutral-950);

	/* Semantic (Feedback) Colors */
	--color-success: var(--color-success);
	--color-warning: var(--color-warning);
	--color-danger: var(--color-danger);
	--color-info: var(--color-info);
}

@layer base {
	html {
		background-color: var(--waku-bg-base);
		color: var(--waku-fg-base);
	}

	*:focus-visible {
		outline: 2px solid var(--waku-accent);
		outline-offset: 2px;
	}

	*:focus:not(:focus-visible) {
		outline: none;
	}

	[disabled],
	[aria-disabled='true'] {
		cursor: not-allowed;
		opacity: 0.5;
	}
}

@layer utilities {
	/* Glassmorphism helper class */
	.glass {
		backdrop-filter: blur(var(--waku-glass-blur));
	}
}
