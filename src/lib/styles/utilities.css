/**
 * Waku Utility Classes
 * Reusable utility classes for common patterns
 */

/* ========================================
   GLASS EFFECTS
   ======================================== */

/* Base Interactive Glass - used by the interactiveGlass action */
.interactive-glass {
	position: relative;
	overflow: hidden;
}

/* Floating speckles/light particles */
.interactive-glass::before {
	content: '';
	position: absolute;
	inset: 0;
	pointer-events: none;
	opacity: calc(0.4 + var(--glass-hover, 0) * 0.4);
	transition: opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1);
	background: radial-gradient(
			circle 3px at var(--glass-speckle-1-x, 30%) var(--glass-speckle-1-y, 40%),
			oklch(1 0 0 / 0.8) 0%,
			oklch(1 0 0 / 0.4) 50%,
			transparent 100%
		),
		radial-gradient(
			circle 2px at var(--glass-speckle-2-x, 70%) var(--glass-speckle-2-y, 60%),
			oklch(1 0 0 / 0.7) 0%,
			oklch(1 0 0 / 0.3) 50%,
			transparent 100%
		),
		radial-gradient(
			circle 2.5px at var(--glass-speckle-3-x, 50%) var(--glass-speckle-3-y, 30%),
			oklch(1 0 0 / 0.75) 0%,
			oklch(1 0 0 / 0.35) 50%,
			transparent 100%
		);
}

/* Cursor glow overlay */
.interactive-glass::after {
	content: '';
	position: absolute;
	inset: 0;
	pointer-events: none;
	opacity: var(--glass-hover, 0);
	transition: opacity 0.3s cubic-bezier(0.16, 1, 0.3, 1);
	background: var(--waku-glass-cursor-glow);
	mix-blend-mode: screen;
}

/* Standard glass effect (enhanced) */
.glass {
	backdrop-filter: blur(var(--waku-glass-blur)) saturate(var(--waku-glass-saturation))
		brightness(var(--waku-glass-brightness));
	-webkit-backdrop-filter: blur(var(--waku-glass-blur)) saturate(var(--waku-glass-saturation))
		brightness(var(--waku-glass-brightness));
	box-shadow: var(--shadow-glass), var(--waku-glass-edge-glow);
	background-image: var(--waku-glass-noise), var(--waku-glass-specular),
		linear-gradient(to bottom, var(--waku-glass-gradient-from), var(--waku-glass-gradient-to)),
		var(--waku-glass-reflection);
	border-radius: var(--radius-lg);
	border: 1px solid var(--waku-glass-edge);
	transition:
		transform 0.3s cubic-bezier(0.16, 1, 0.3, 1),
		box-shadow 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Heavy glass (modals, sheets) */
.glass-heavy {
	backdrop-filter: blur(var(--waku-glass-blur-heavy)) saturate(var(--waku-glass-saturation))
		brightness(var(--waku-glass-brightness));
	-webkit-backdrop-filter: blur(var(--waku-glass-blur-heavy)) saturate(var(--waku-glass-saturation))
		brightness(var(--waku-glass-brightness));
	box-shadow: var(--shadow-glass), var(--waku-glass-edge-glow);
	background-image: var(--waku-glass-mesh), var(--waku-glass-noise), var(--waku-glass-specular),
		linear-gradient(to bottom, var(--waku-glass-gradient-from), var(--waku-glass-gradient-to)),
		var(--waku-glass-reflection);
	border-radius: var(--radius-xl);
	border: 1px solid var(--waku-glass-edge);
	transition:
		transform 0.3s cubic-bezier(0.16, 1, 0.3, 1),
		box-shadow 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Subtle glass (buttons, small UI) */
.glass-subtle {
	backdrop-filter: blur(20px) saturate(150%) brightness(102%);
	-webkit-backdrop-filter: blur(20px) saturate(150%) brightness(102%);
	background: var(--waku-glass-gradient-from);
	box-shadow: var(--shadow-md), var(--waku-glass-edge-glow);
	border-radius: var(--radius-md);
	border: 1px solid var(--waku-border);
	transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Ultra-thin glass (toolbars, menu bars) */
.glass-ultra-thin {
	backdrop-filter: blur(var(--waku-glass-blur-ultra-thin)) saturate(var(--waku-glass-saturation))
		brightness(var(--waku-glass-brightness));
	-webkit-backdrop-filter: blur(var(--waku-glass-blur-ultra-thin))
		saturate(var(--waku-glass-saturation)) brightness(var(--waku-glass-brightness));
	background: var(--waku-glass-noise), var(--waku-glass-specular),
		linear-gradient(180deg, oklch(0.99 0 0 / 0.8) 0%, oklch(0.97 0 0 / 0.7) 100%);
	box-shadow: var(--waku-glass-edge-glow), 0 4px 16px -4px rgb(0 0 0 / 0.08);
	border: 1px solid oklch(1 0 0 / 0.3);
	border-radius: var(--radius-md);
	transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

html.dark .glass-ultra-thin {
	background: var(--waku-glass-noise), var(--waku-glass-specular),
		linear-gradient(180deg, oklch(0.22 0 0 / 0.85) 0%, oklch(0.18 0 0 / 0.75) 100%);
	border-color: oklch(1 0 0 / 0.12);
}

/* Thin glass (dropdowns, popovers) */
.glass-thin {
	backdrop-filter: blur(var(--waku-glass-blur-thin)) saturate(var(--waku-glass-saturation))
		brightness(var(--waku-glass-brightness));
	-webkit-backdrop-filter: blur(var(--waku-glass-blur-thin)) saturate(var(--waku-glass-saturation))
		brightness(var(--waku-glass-brightness));
	background: var(--waku-glass-noise), var(--waku-glass-specular),
		linear-gradient(180deg, oklch(0.98 0 0 / 0.75) 0%, oklch(0.96 0 0 / 0.65) 100%);
	box-shadow: var(--waku-glass-edge-glow), 0 8px 24px -6px rgb(0 0 0 / 0.12),
		0 0 0 1px oklch(1 0 0 / 0.15) inset;
	border: 1px solid oklch(1 0 0 / 0.4);
	border-radius: var(--radius-lg);
	transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

html.dark .glass-thin {
	background: var(--waku-glass-noise), var(--waku-glass-specular),
		linear-gradient(180deg, oklch(0.22 0 0 / 0.85) 0%, oklch(0.18 0 0 / 0.75) 100%);
	border-color: oklch(1 0 0 / 0.15);
}

/* Thick glass (large modals, panels) */
.glass-thick {
	backdrop-filter: blur(var(--waku-glass-blur-thick)) saturate(var(--waku-glass-saturation))
		brightness(var(--waku-glass-brightness));
	-webkit-backdrop-filter: blur(var(--waku-glass-blur-thick)) saturate(var(--waku-glass-saturation))
		brightness(var(--waku-glass-brightness));
	background: var(--waku-glass-mesh), var(--waku-glass-noise), var(--waku-glass-specular),
		linear-gradient(180deg, oklch(0.97 0 0 / 0.85) 0%, oklch(0.95 0 0 / 0.75) 100%);
	box-shadow: var(--waku-glass-edge-glow), 0 16px 48px -8px rgb(0 0 0 / 0.16),
		0 0 0 1px oklch(1 0 0 / 0.2) inset, 0 2px 4px 0 oklch(1 0 0 / 0.5) inset;
	border: 1.5px solid oklch(1 0 0 / 0.5);
	border-radius: var(--radius-xl);
	transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

html.dark .glass-thick {
	background: var(--waku-glass-mesh), var(--waku-glass-noise), var(--waku-glass-specular),
		linear-gradient(180deg, oklch(0.22 0 0 / 0.85) 0%, oklch(0.18 0 0 / 0.75) 100%);
	border-color: oklch(1 0 0 / 0.18);
}

/* Tinted glass (accent color variant) */
.glass-tinted {
	backdrop-filter: blur(var(--waku-glass-blur)) saturate(var(--waku-glass-saturation))
		brightness(var(--waku-glass-brightness));
	-webkit-backdrop-filter: blur(var(--waku-glass-blur)) saturate(var(--waku-glass-saturation))
		brightness(var(--waku-glass-brightness));
	background: var(--waku-glass-noise),
		linear-gradient(
			180deg,
			oklch(from var(--waku-accent) calc(l + 0.3) calc(c * 0.4) h / 0.6) 0%,
			oklch(from var(--waku-accent) calc(l + 0.25) calc(c * 0.35) h / 0.5) 100%
		);
	box-shadow: var(--waku-glass-edge-glow),
		0 12px 32px -8px oklch(from var(--waku-accent) l c h / 0.3),
		0 0 0 1px oklch(from var(--waku-accent) calc(l + 0.2) c h / 0.4) inset;
	border: 1px solid oklch(from var(--waku-accent) calc(l + 0.3) c h / 0.6);
	border-radius: var(--radius-lg);
	transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

html.dark .glass-tinted {
	background: var(--waku-glass-noise),
		linear-gradient(
			180deg,
			oklch(from var(--waku-accent) calc(l - 0.1) calc(c * 0.6) h / 0.5) 0%,
			oklch(from var(--waku-accent) calc(l - 0.15) calc(c * 0.5) h / 0.4) 100%
		);
	border-color: oklch(from var(--waku-accent) l c h / 0.4);
}

/* ========================================
   SURFACE ELEVATION
   ======================================== */
.elevation-0 {
	background-color: var(--waku-surface-0);
}

.elevation-1 {
	background-color: var(--waku-surface-1);
	box-shadow: var(--shadow-sm);
}

.elevation-2 {
	background-color: var(--waku-surface-2);
	box-shadow: var(--shadow-md);
	border-radius: var(--radius-lg);
}

/* ========================================
   INTERACTIVE STATES
   ======================================== */
.interactive {
	transition:
		transform var(--transition-fast),
		box-shadow var(--transition-fast);
	cursor: pointer;
}

.interactive:hover {
	transform: translateY(-1px);
}

.interactive:active {
	transform: translateY(0px);
	transition-duration: 100ms;
}

.scale-interactive {
	transition: transform var(--transition-base) var(--spring-smooth);
	cursor: pointer;
}

.scale-interactive:hover {
	transform: scale(1.02);
}

.scale-interactive:active {
	transform: scale(0.98);
}

/* ========================================
   BORDER RADIUS
   ======================================== */
.rounded-sm {
	border-radius: var(--radius-sm);
}

.rounded-md {
	border-radius: var(--radius-md);
}

.rounded-lg {
	border-radius: var(--radius-lg);
}

.rounded-xl {
	border-radius: var(--radius-xl);
}

.rounded-2xl {
	border-radius: var(--radius-2xl);
}

.rounded-full {
	border-radius: var(--radius-full);
}

/* ========================================
   SHADOWS
   ======================================== */
.shadow-sm {
	box-shadow: var(--shadow-sm);
}

.shadow-md {
	box-shadow: var(--shadow-md);
}

.shadow-lg {
	box-shadow: var(--shadow-lg);
}

.shadow-xl {
	box-shadow: var(--shadow-xl);
}

.shadow-2xl {
	box-shadow: var(--shadow-2xl);
}

.shadow-glass {
	box-shadow: var(--shadow-glass);
}

.shadow-none {
	box-shadow: none;
}

/* ========================================
   TEXT COLORS
   ======================================== */
.text-base {
	color: var(--waku-fg-base);
}

.text-muted {
	color: var(--waku-fg-muted);
}

.text-accent {
	color: var(--accent-500);
}

.text-success {
	color: var(--color-success);
}

.text-warning {
	color: var(--color-warning);
}

.text-danger {
	color: var(--color-danger);
}

.text-info {
	color: var(--color-info);
}

/* ========================================
   BACKGROUND COLORS
   ======================================== */
.bg-surface-0 {
	background-color: var(--waku-surface-0);
}

.bg-surface-1 {
	background-color: var(--waku-surface-1);
}

.bg-surface-2 {
	background-color: var(--waku-surface-2);
}

.bg-accent {
	background-color: var(--accent-500);
}

/* ========================================
   BORDERS
   ======================================== */
.border {
	border: 1px solid var(--waku-border);
}

.border-accent {
	border-color: var(--accent-500);
}

.border-t {
	border-top: 1px solid var(--waku-border);
}

.border-b {
	border-bottom: 1px solid var(--waku-border);
}

.border-l {
	border-left: 1px solid var(--waku-border);
}

.border-r {
	border-right: 1px solid var(--waku-border);
}

/* ========================================
   ANIMATIONS
   ======================================== */
@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slideIn {
	from {
		transform: translateX(-100%);
	}
	to {
		transform: translateX(0);
	}
}

@keyframes scaleIn {
	from {
		transform: scale(0.95);
		opacity: 0;
	}
	to {
		transform: scale(1);
		opacity: 1;
	}
}

.animate-fade-in {
	animation: fadeIn var(--transition-base) var(--spring-smooth);
}

.animate-slide-in {
	animation: slideIn var(--transition-base) var(--spring-smooth);
}

.animate-scale-in {
	animation: scaleIn var(--transition-base) var(--spring-smooth);
}

/* ========================================
   LAYOUT HELPERS
   ======================================== */
.center {
	display: flex;
	align-items: center;
	justify-content: center;
}

.stack {
	display: flex;
	flex-direction: column;
}

.hstack {
	display: flex;
	flex-direction: row;
}

.gap-xs {
	gap: var(--spacing-xs);
}

.gap-sm {
	gap: var(--spacing-sm);
}

.gap-md {
	gap: var(--spacing-md);
}

.gap-lg {
	gap: var(--spacing-lg);
}

.gap-xl {
	gap: var(--spacing-xl);
}

.gap-2xl {
	gap: var(--spacing-2xl);
}

/* ========================================
   VISIBILITY
   ======================================== */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

/* ========================================
   TRANSITIONS
   ======================================== */
.transition-fast {
	transition: all var(--transition-fast);
}

.transition-base {
	transition: all var(--transition-base);
}

.transition-slow {
	transition: all var(--transition-slow);
}

.transition-spring {
	transition: all var(--transition-base) var(--spring-smooth);
}

.transition-bounce {
	transition: all var(--transition-bounce);
}

/* ========================================
   Z-INDEX LAYERS
   ======================================== */
.z-dropdown {
	z-index: var(--z-dropdown);
}

.z-modal {
	z-index: var(--z-modal);
}

.z-popover {
	z-index: var(--z-popover);
}

.z-tooltip {
	z-index: var(--z-tooltip);
}

.z-toast {
	z-index: var(--z-toast);
}
